# ============================================================
# self-evolving-agent ì„¤ì • íŒŒì¼
# ì´ íŒŒì¼ì„ ìˆ˜ì •í•˜ë©´ ìŠ¤í‚¬ ë™ì‘ì´ ë°”ë€ë‹ˆë‹¤.
# ì¬ì‹œì‘ ì—†ì´ ë‹¤ìŒ í¬ë¡  ì‹¤í–‰ ì‹œ ìë™ ë°˜ì˜ë©ë‹ˆë‹¤.
# ============================================================

# â”€â”€ LLM ì œê³µì ì„¤ì • â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# synthesize-proposal.shì˜ ì œì•ˆ í•©ì„± ë‹¨ê³„ì—ì„œ ì‚¬ìš©í•  LLMì„ ì„ íƒí•©ë‹ˆë‹¤.
# provider: "anthropic" | "openai" | "ollama" | "none"
#
# ğŸ’¡ Ollama = ì™„ì „ ë¬´ë£Œ! ë¡œì»¬ LLM (API í‚¤ ë¶ˆí•„ìš”, ì¸í„°ë„· ë¶ˆí•„ìš”)
#    ì„¤ì¹˜: brew install ollama && ollama pull llama3.1:8b
#    ì´í›„ ollama serve ì‹¤í–‰ í›„ provider: "ollama" ì„¤ì •
#
# ğŸ’¡ none = ìˆœìˆ˜ íœ´ë¦¬ìŠ¤í‹± ëª¨ë“œ (LLM í˜¸ì¶œ ì—†ìŒ, API ë¹„ìš© $0)
#    ë¶„ì„+í•©ì„± ëª¨ë‘ ë¡œì»¬ ì‰˜ ìŠ¤í¬ë¦½íŠ¸ë¡œë§Œ ì²˜ë¦¬ë©ë‹ˆë‹¤.
llm:
  provider: "anthropic"   # anthropic | openai | ollama | none

  anthropic:
    model: "claude-sonnet-4-5"
    # API í‚¤: í™˜ê²½ë³€ìˆ˜ ANTHROPIC_API_KEY (ì„¤ì • íŒŒì¼ì— ì§ì ‘ ê¸°ì… ê¸ˆì§€)

  openai:
    model: "gpt-4.1"
    # API í‚¤: í™˜ê²½ë³€ìˆ˜ OPENAI_API_KEY (ì„¤ì • íŒŒì¼ì— ì§ì ‘ ê¸°ì… ê¸ˆì§€)

  ollama:
    model: "llama3.1:8b"
    url: "http://localhost:11434"
    # API í‚¤ ë¶ˆí•„ìš” â€” ì™„ì „ ë¡œì»¬, ì™„ì „ ë¬´ë£Œ
    # ë‹¤ë¥¸ ëª¨ë¸ ì˜ˆì‹œ: "mistral:7b", "gemma3:9b", "qwen2.5:7b"

  none: {}  # ìˆœìˆ˜ íœ´ë¦¬ìŠ¤í‹± ëª¨ë“œ â€” LLM í˜¸ì¶œ ì—†ì´ íŒ¨í„´ ë¶„ì„ë§Œ ìˆ˜í–‰

# â”€â”€ ë¶„ì„ ì„¤ì • â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
analysis:
  # ë¶„ì„ ì—”ì§„ ì„ íƒ: auto | embedding | heuristic
  # auto: Ollama ê°€ìš© â†’ embedding, ì•„ë‹ˆë©´ heuristic ìë™ ì„ íƒ
  # embedding: ë¬´ì¡°ê±´ ì„ë² ë”© ì‹œë„ (Ollama ë˜ëŠ” OpenAI í•„ìš”)
  # heuristic: v4 í‚¤ì›Œë“œ ê¸°ë°˜ ë¶„ì„ (API í‚¤ ë¶ˆí•„ìš”)
  engine: "auto"

  # ì‹œë§¨í‹± ì„ë² ë”© ì„¤ì • (v5.0 ì‹ ê·œ)
  embedding:
    # ì„ë² ë”© ì œê³µì: ollama | openai
    # ollama: ì™„ì „ ë¬´ë£Œ, ë¡œì»¬ ì‹¤í–‰ (API í‚¤ ë¶ˆí•„ìš”!)
    # openai: text-embedding-3-small ì‚¬ìš© (OPENAI_API_KEY í•„ìš”, ~$0.02/M tokens)
    provider: "ollama"

    # Ollama ì„œë²„ ì£¼ì†Œ
    ollama_url: "http://localhost:11434"

    # ì„ë² ë”© ëª¨ë¸ (Ollama ì œê³µììš©)
    # nomic-embed-text: ë¹ ë¥´ê³  ê°•ë ¥í•œ ë‹¤êµ­ì–´ ì„ë² ë”© ëª¨ë¸
    # mxbai-embed-large: ë” í° ëª¨ë¸ (ë” ì •í™•, ë” ëŠë¦¼)
    # all-minilm: ê°€ë³ê³  ë¹ ë¦„ (ëœ ì •í™•)
    model: "nomic-embed-text"

    # ì¢Œì ˆ ê°ì§€ ì„ê³„ê°’ (ì½”ì‚¬ì¸ ìœ ì‚¬ë„)
    # 0.75: ì ì ˆí•œ ê· í˜• (ê¶Œì¥)
    # 0.80: ë³´ìˆ˜ì  (ê±°ì§“ ì–‘ì„± ì¤„ì„, ë†“ì¹˜ëŠ” ê²ƒ ë§ìŒ)
    # 0.70: ê³µê²©ì  (ë” ë§ì´ ê°ì§€, ê±°ì§“ ì–‘ì„± ì¦ê°€)
    similarity_threshold: 0.75

    # exec ëª…ë ¹ í´ëŸ¬ìŠ¤í„°ë§ ì„ê³„ê°’
    # 0.82: ìœ ì‚¬í•œ ëª…ë ¹ë¼ë¦¬ë§Œ ë¬¶ìŒ (ê¶Œì¥)
    cluster_threshold: 0.82

    # ì„ë² ë”© ìºì‹œ TTL (ì¼) â€” ìºì‹œ ì¬ì‚¬ìš©ìœ¼ë¡œ ì†ë„ ìµœì í™”
    cache_ttl_days: 7

    # ëª¨ë¸ ì„¤ì¹˜ ëª…ë ¹ (ì„¤ì¹˜ë˜ì§€ ì•Šì€ ê²½ìš° ì•ˆë‚´)
    # ollama pull nomic-embed-text

  # ìµœê·¼ ëª‡ ì¼ì¹˜ ì„¸ì…˜ì„ ë¶„ì„í• ì§€ (ê¸°ë³¸: 7ì¼)
  days: 7

  # í•œ ë²ˆì— ë¶„ì„í•  ìµœëŒ€ ì„¸ì…˜ ìˆ˜ (ì„±ëŠ¥: ëŒ€ê·œëª¨ í™˜ê²½ì—ì„œ ì œí•œ)
  # 0 = ì œí•œ ì—†ìŒ (1000+ ì„¸ì…˜ì€ ëŠë¦´ ìˆ˜ ìˆìŒ)
  max_sessions: 30

  # ë¶„ì„ ëŒ€ìƒ ì—ì´ì „íŠ¸ ëª©ë¡ (ë¹ˆ ë°°ì—´ = ì „ì²´)
  # ì˜ˆ: ["opus", "sonnet"]
  agent_filter: []

  # ë¶ˆë§Œ íŒ¨í„´ í‚¤ì›Œë“œ (í•œêµ­ì–´/ì˜ì–´ ë¶„ë¦¬ êµ¬ì¡°, v4.1)
  # auto_detect: true ì‹œ ì„¸ì…˜ì˜ ì²« 10ê°œ user ë©”ì‹œì§€ ì¤‘ >50%ì— [ê°€-í£]ì´ ìˆìœ¼ë©´ ko, ì•„ë‹ˆë©´ en ì ìš©
  # ì£¼ì˜: ì¼ë°˜ ìš”ì²­ í‘œí˜„("ë‹¤ì‹œ í™•ì¸í•´ì¤˜", "ê³„ì† í•´ì¤˜")ê³¼ êµ¬ë³„ë˜ëŠ” íŒ¨í„´ë§Œ ì‚¬ìš©
  complaint_patterns:
    ko:
      - "í™•ì¸ì¤‘"
      - "ë‹¤ì‹œ"
      - "ì•„ê¹Œ"
      - "ë°˜ë³µ"
      - "ê¸°ì–µ"
      - "ë§í–ˆì–ì•„"
      - "í–ˆì–ì•„"
      - "ì´ë¯¸ ë§í–ˆ"
      - "ê³„ì†"
      - "ë¬¼ì–´ë³´ì§€ ë§ê³ "
      - "ì „ë¶€ ë‹¤ í•´ì¤˜"
      - "ì™œ ë˜"
      - "ëª‡ ë²ˆ"
      - "ë˜?"
      - "ì €ë²ˆì—ë„"
      - "ì™œ ìê¾¸"
      - "ë˜ ê·¸ëŸ¬ë„¤"
      - "ì•ˆ ë˜ì–ì•„"
      - "ë˜ í•˜ë„¤"
      - "ë‹¤ì‹œ ë˜"
      - "ë‹¤ì‹œ í•´ì•¼"
    en:
      - "you forgot"
      - "again?"
      - "same mistake"
      - "stop doing that"
      - "how many times"
      - "wrong again"
      - "you already"
      - "I told you"
      - "keep doing"
      - "still broken"
      - "not what I asked"
      - "try again"
      - "that's not right"
      - "still not working"
      - "told you"
      - "as I said"
    auto_detect: true  # ã‚»ãƒƒã‚·ãƒ§ãƒ³å†…å®¹ã‹ã‚‰è¨€èªã‚’è‡ªå‹•æ¤œå‡º | Detect language from session content

  # AGENTS.md ìœ„ë°˜ íŒ¨í„´ (ì •ê·œì‹)
  violation_patterns:
    - pattern: "git (?:pull|push|fetch)"
      rule: "git ì‘ì—…ì€ git-sync.sh ì‚¬ìš© í•„ìˆ˜"
      severity: "high"
    - pattern: "(?:ì¶”ê°€ë¡œ|ê·¸ë¦¬ê³ \n|ë˜í•œ\n)"
      rule: "ë©”ì‹œì§€ ë‹¨í¸í™” ê¸ˆì§€"
      severity: "low"
      min_hits: 5

  # ì—ëŸ¬ ë¡œê·¸ ë¶„ì„ ëŒ€ìƒ íŒŒì¼ (~/.openclaw/logs/ ê¸°ì¤€)
  log_files:
    - "cron-catchup.log"
    - "heartbeat-cron.log"
    - "context-monitor.log"
    - "metrics-cron.log"

  # .learnings/ ê²½ë¡œ (self-improving-agent ì—°ë™)
  # ìƒëŒ€ê²½ë¡œ: $HOME ê¸°ì¤€, ì ˆëŒ€ê²½ë¡œ ê°€ëŠ¥
  learnings_paths:
    - "openclaw/.learnings"         # í”„ë¡œì íŠ¸ ë£¨íŠ¸
    - ".openclaw/.learnings"        # í™ˆ ë””ë ‰í† ë¦¬ ìˆ¨ê¹€ í´ë”

  # MEMORY.md ë¶„ì„ í¬í•¨ ì—¬ë¶€
  include_memory_md: true

# â”€â”€ ì œì•ˆ ì„¤ì • â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
proposals:
  # ì œì•ˆ ìµœì†Œ ë°œë™ ì„ê³„ê°’
  complaint_min_hits: 2        # ë¶ˆë§Œ íŒ¨í„´ ìµœì†Œ ê°ì§€ ìˆ˜
  repeat_request_min: 3        # ë°˜ë³µ ìš”ì²­ ìµœì†Œ íšŸìˆ˜

  # ì œì•ˆ ì €ì¥ ê²½ë¡œ (ìŠ¤í‚¬ ë””ë ‰í† ë¦¬ ê¸°ì¤€ ìƒëŒ€ê²½ë¡œ)
  save_dir: "data/proposals"

  # ê±°ë¶€ ê¸°ë¡ íŒŒì¼
  rejection_log: "data/rejected-proposals.json"

  # ì œì•ˆ ë§Œë£Œ: Nì¼ ì´ìƒ ëœ ì œì•ˆ ìë™ ì•„ì¹´ì´ë¸Œ
  expire_days: 30

# â”€â”€ í¬ë¡  ì„¤ì • â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
cron:
  # í¬ë¡  ì‹¤í–‰ ìŠ¤ì¼€ì¤„ (cron í‘œí˜„ì‹, Asia/Seoul ê¸°ì¤€)
  schedule: "0 22 * * 0"    # ë§¤ì£¼ ì¼ìš”ì¼ 22:00

  # ì‚¬ìš©í•  AI ëª¨ë¸
  model: "anthropic/claude-sonnet-4-5"

  # ê²°ê³¼ ì „ì†¡ Discord ì±„ë„ ID
  discord_channel: ""   # Required: set your Discord channel ID

  # í¬ë¡  ì—ì´ì „íŠ¸ ID
  agent_id: "opus"

# â”€â”€ ì¶œë ¥ ì„¤ì • â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
output:
  # ë¶„ì„ ê²°ê³¼ JSON ì„ì‹œ ì €ì¥ ê²½ë¡œ
  analysis_json: "/tmp/self-evolving-analysis.json"

  # ë””ë²„ê·¸ ë¡œê·¸ ì¶œë ¥ ì—¬ë¶€ (stderr)
  verbose: true

  # ê²°ê³¼ Discord ë©”ì‹œì§€ ìµœëŒ€ ê¸¸ì´ (Discord ì œí•œ: 4000)
  max_message_length: 3500

# â”€â”€ ë°°ë‹¬ ì„¤ì • â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
delivery:
  # í”Œë«í¼ ì„ íƒ: discord | slack | telegram | webhook
  # discord: OpenClaw ë„¤ì´í‹°ë¸Œ ë°°ë‹¬ (í¬ë¡  delivery ì„¤ì • ì‚¬ìš©, deliver.sh ë¯¸í˜¸ì¶œ)
  # slack/telegram/webhook: deliver.shê°€ ì§ì ‘ ì „ì†¡
  platform: "discord"

  discord:
    channel_id: ""    # Your Discord channel ID (í¬ë¡  delivery.toì—ì„œë„ ì„¤ì • í•„ìš”)

  slack:
    webhook_url: ""   # Slack Incoming Webhook URL
                      # https://api.slack.com/messaging/webhooks ì—ì„œ ìƒì„±

  telegram:
    bot_token: ""     # BotFatherì—ì„œ ë°œê¸‰í•œ í† í° (ì˜ˆ: 123456:ABC-DEF...)
    chat_id: ""       # ì±„ë„ ë˜ëŠ” ì±„íŒ…ë°© ID (ì˜ˆ: -1001234567890)

  webhook:
    url: ""           # Generic webhook endpoint URL
    method: "POST"
    headers:
      Content-Type: "application/json"

# â”€â”€ GitHub í†µí•© ì„¤ì • â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
github:
  # GitHub Personal Access Token (repo ê¶Œí•œ í•„ìš”)
  # ì‹¤ì œ í† í°ì€ í™˜ê²½ë³€ìˆ˜ GH_TOKENì— ì„¤ì • ê¶Œì¥ (ë³´ì•ˆ)
  token: ""           # ë˜ëŠ” í™˜ê²½ë³€ìˆ˜: GH_TOKEN

  # ë ˆí¬ (owner/repo í˜•ì‹)
  # ë¹„ì–´ ìˆìœ¼ë©´ git remoteì—ì„œ ìë™ ê°ì§€
  repo: ""            # ì˜ˆ: "yourname/openclaw"

  # ê¸°ë³¸ Assignee (ë¹ˆ ê°’ = ë ˆí¬ ì†Œìœ ì ìë™)
  assignee: ""

  # ì œì•ˆ ìƒì„± ì‹œ ìë™ìœ¼ë¡œ GitHub ì´ìŠˆ ìƒì„±
  auto_create_issues: false

  # ìŠ¹ì¸ ì‹œ ìë™ìœ¼ë¡œ ì´ìŠˆ ì¢…ë£Œ
  auto_close_on_approve: true

  # ê¸°ë³¸ ë ˆì´ë¸” (ìë™ ìƒì„±)
  labels:
    base:
      - "self-evolving"
      - "agent-proposal"
    severity_prefix: "severity:"   # severity:high, severity:medium, etc.
    status_prefix: "status:"       # status:pending-review, status:approved

# â”€â”€ ì¸í„°ë™í‹°ë¸Œ ìŠ¹ì¸ ì„¤ì • â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
interactive:
  # sea watch í´ë§ ê°„ê²© (ì´ˆ)
  watch_interval: 30

  # macOS ë°ìŠ¤í¬íƒ‘ ì•Œë¦¼ ì†Œë¦¬
  notify_sound: "on"

  # Telegram ì¸ë¼ì¸ ë²„íŠ¼ í™œì„±í™” (TG_TOKEN, TG_CHAT_ID í•„ìš”)
  telegram_buttons: false

# â”€â”€ ë¦¬í¬íŠ¸ ë‚´ë³´ë‚´ê¸° ì„¤ì • â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
export:
  # ê¸°ë³¸ ì¶œë ¥ ë””ë ‰í† ë¦¬
  output_dir: ""      # ê¸°ë³¸: í˜„ì¬ ë””ë ‰í† ë¦¬

  # ë¦¬í¬íŠ¸ ì œëª©
  title: "Self-Evolving Agent ì£¼ê°„ ë¦¬í¬íŠ¸"

  # HTML ìƒì„± ì‹œ pandoc ìš°ì„  ì‚¬ìš©
  prefer_pandoc: true
