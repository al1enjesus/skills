# Self-Evolving Agent — 로드맵

> *스스로를 관찰하고, 실수에서 배우고, 개선안을 제안하는 AI.*

---

## v4.0 — 현재 (✅ 배포됨)

**출시:** 2026년 2월

**핵심:** 4단계 멀티에이전트 파이프라인 + 효과 측정 루프

### 무엇을 하나

- **수집 에이전트 (Stage 1)** — 채팅 로그, exec 재시도 이벤트, 크론 에러를 구조화된 JSON으로 변환
- **분석 에이전트 (Stage 2)** — 구조적 휴리스틱 분석으로 패턴 탐지 (키워드 + role_filter + context_window + dedup)
- **벤치마크 에이전트 (Stage 3)** — 이전 제안의 효과 측정 (적용 전후 패턴 빈도 비교)
- **합성 에이전트 (Stage 4)** — 3개 에이전트 결과를 종합해서 diff 형식 개선안 작성 (Claude 1회 호출)
- **승인 게이트** — 사용자 명시적 확인 없이는 AGENTS.md 절대 수정 없음
- **거부 학습** — 거부된 제안은 기록되어 다음 분석 사이클에 반영

### v1.1, v1.2 로드맵 항목 → v4.0에 통합 ✅

**v1.1 계획: Self-improving-agent 연동**
- ✅ 합성 에이전트가 self-improving-agent 스코어 데이터 활용
- ✅ 저품질 세션에 높은 가중치 부여 (score-weighted analysis)
- ✅ 주간 리포트에 품질 트렌드 포함

**v1.2 계획: 대시보드**
- 부분 통합 — 벤치마크 에이전트가 효과 추적 역할 담당
- 시각적 Web UI는 v4.1로 이연

### 알려진 한계

- 구조적 휴리스틱 (키워드 + 문맥) — 진짜 의미론적 이해 아님
- false positive 추정 ~15% (v3.0 ~40%에서 개선)
- 패턴 목록에 없으면 미탐지
- 효과 측정은 빈도 기반 (인과관계 분석 아님)

---

## v3.0 — 이전 버전 (✅ 레거시 지원)

**출시:** 2026년 2월

**핵심:** exec 재시도 탐지 + 반복 에러 분석

### 실제 발견한 것

- exec 연속 재시도: 7일간 405건, 최대 119회 연속
- heartbeat 로그 동일 에러: 18회 반복 (미수정 버그)
- 활성 크론 에러: 3개

*v3.0 스크립트는 `scripts/` 디렉토리에 하위 호환 유지.*

---

## v4.1 — 대시보드 (🔨 준비 중)

**목표:** 2026년 Q2

**테마:** 개선 이력을 눈에 보이게, 행동으로 이어지게.

### 주요 기능

- **개선 이력 타임라인** — 제안, 승인, 거부의 시각적 로그
- **패턴 빈도 차트** — 시간에 따른 불만 키워드 빈도 변화
- **규칙 효과 추적** — 규칙 추가 후 해당 패턴이 줄었나?
- **before/after 비교** — AGENTS.md 버전별 변경 귀인 표시
- **Web UI (경량)** — 로컬 HTTP 서버, OpenClaw canvas 호환

### 대시보드 목업

```
┌─────────────────────────────────────────────────────────┐
│  Self-Evolving Agent Dashboard                  v4.1    │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  📊 품질 스코어 (12주 트렌드)                            │
│  ████████░░  6.2 → 7.8  (+25.8%)                       │
│                                                         │
│  🔍 주요 불만 패턴 추이                                  │
│  ████████ "다시" / "again"        22x → 3x (↓86%)      │
│  █████░░░ "확인중"                17x → 8x (↓53%)      │
│  ███░░░░░ "왜 또"                  8x → 1x (↓88%)      │
│                                                         │
│  📋 제안 이력                                           │
│  2026-02-17  4개 제안  ✅ 3 적용  ❌ 1 거부             │
│  2026-02-10  2개 제안  ✅ 2 적용                        │
│  2026-02-03  3개 제안  ✅ 2 적용  ❌ 1 거부             │
│                                                         │
│  📈 v4.0 효과 측정 (벤치마크)                           │
│  2026-02-17 #2 Effective (-43%)  #3 Neutral (+2%)      │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

---

## v4.2 — 다국어 패턴 라이브러리 (📋 계획)

**목표:** 2026년 Q2

**테마:** 한국어 외 사용자도 바로 쓸 수 있게.

### 주요 기능

- **영어 기본 패턴** — "stop doing that", "you forgot again", "how many times" 등
- **일본어 패턴** — 일본어 불만 신호 라이브러리
- **언어 자동 감지** — 로그 언어에 따라 패턴 자동 선택
- **커뮤니티 패턴 기여** — PR로 언어별 패턴 추가 가능

---

## v5.0 — 임베딩 기반 의미론적 분석 (💡 개념)

**목표:** 2026년 Q3

**테마:** 진짜 의미를 이해하는 분석 — 키워드 의존 탈피.

### 주요 기능

- **임베딩 기반 패턴 탐지** — 의미론적으로 유사한 불만 표현 그룹핑
- **인과 관계 분석 (부분)** — "이 패턴이 왜 생겼는가" 추론
- **자동 패턴 발견** — 키워드 목록 없이도 새로운 불만 패턴 식별
- **다언어 통합 분석** — 언어 구분 없이 의미 기반 분석

### 예상 성능 목표 (v5.0)

```
현재 (v4.0):
  false positive ~15% (추정)
  새 패턴 자동 발견: 없음

목표 (v5.0):
  false positive <10%
  새 패턴 자동 발견: 있음 (임베딩 클러스터링)
```

---

## 장기 비전

**목표: 자가 치유 에이전트 생태계.**

상수 튜닝이 필요한 AI가 아닌:

1. 자신의 실패 패턴을 자동으로 탐지하는 AI
2. 근거 있는 개선안을 직접 제안하는 AI
3. 개선안이 실제로 효과가 있었는지 측정하는 AI
4. 효과 없는 개선안을 다시 검토하는 AI

**인간의 역할 변화:** "AI를 고치는 사람" → "AI가 제안한 개선안을 승인하는 사람"

인지 부하가 훨씬 낮아집니다. 실제로 중요한 결정만 사람이 합니다.

v4.0은 이 비전을 향한 첫 번째 완성된 루프입니다:  
탐지 → 제안 → 승인 → **효과 측정** → 다시 탐지

---

## 기여하기

`SKILL.md` 참조. 환영하는 PR:

- 언어별 불만 패턴 라이브러리 (영어, 일본어 등)
- 의미론적 분석 대안 (임베딩 기반)
- 다른 OpenClaw 스킬과의 연동
- 대시보드 Web UI 구현

---

*로드맵은 방향성 제시용입니다. OpenClaw 플랫폼 변화에 따라 일정은 조정될 수 있습니다.*
